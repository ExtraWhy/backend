<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>WebSocket ID Example</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    input, button { margin: 10px; padding: 10px; }
    #log { margin-top: 20px; border: 1px solid #ccc; padding: 10px; height: 150px; overflow-y: auto; }
  </style>
</head>
<body>
  <h2>WebSocket ID Sender</h2>
  <input type="text" id="idInput" placeholder="Enter ID" />
  <button onclick="sendPost()">POST ID</button>
  <button onclick="sendGet()">GET ID</button>

  <div id="log"></div>

  <script>
    const log = (message) => {
      const logDiv = document.getElementById("log");
      logDiv.innerHTML += `<div>${message}</div>`;
      logDiv.scrollTop = logDiv.scrollHeight;
    };

    const socket = new WebSocket("ws://localhost:8080/ws");

    socket.onopen = () => log("‚úÖ Connected to WebSocket");
    socket.onmessage = (event) => log("üì• Received: " + event.data);
    socket.onclose = () => log("‚ùå Disconnected");
    socket.onerror = (err) => log("‚ö†Ô∏è Error: " + err.message);

    function sendPost() {
      const id = document.getElementById("idInput").value;
      if (!id) return log("‚ùó Please enter an ID");
      const message = JSON.stringify({ action: "POST", id });
      socket.send(message);
      log("üì§ Sent POST: " + message);
    }

    function sendGet() {
      const id = document.getElementById("idInput").value;
      const message = JSON.stringify({ action: "GET", id });
      socket.send(message);
      log("üì§ Sent GET: " + message);
    }
  </script>
</body>
</html>
